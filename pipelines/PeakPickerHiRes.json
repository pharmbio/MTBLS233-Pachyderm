{
  "pipeline": {
    "name": "PeakPicker"
  },
  "transform": {
    "image": "novella/my-openms:2",
    "cmd": [ "/bin/bash" ],
    "stdin": [
    "for filename in /pfs/mrpo/*;",
    "do",
    "shortname=$(basename $filename)",
    "shortname=${shortname%.*}",
    "dash='_'",
    "PeakPickerHiRes -in ${filename} -out /pfs/out/${shortname}${dash}peaks.mzML -ini /pfs/params/PPparam.ini",
    "done"
    ]
  },
  "parallelism_spec": {
    "strategy": "CONSTANT",
    "constant": 2 
  },
  "inputs": [
    {
      "repo": {
        "name": "mrpo"
        },
      "method": {
        "partition": "FILE",
        "incremental": "DIFF"
      }
    },
    {
      "repo": {
        "name": "params"
        },
      "method": {
        "partition": "FILE",
        "incremental": "DIFF"
      }
    }
    ]
}